<div class="container py-4">
  <div class="row justify-content-center">
    <div class="col-lg-10 col-xl-8">
      <div class="card border-0 shadow-sm">
        <!-- Encabezado factura -->
        <invoice-view [id]="invoice.id" [name]="invoice.name"></invoice-view>

        <div class="card-body">
          <!-- Datos cliente / empresa -->
          <div class="row g-4 mb-4">
            <!-- Cliente -->
            <div class="col-md-6">
              <h3 class="h6 text-uppercase text-muted mb-2">Datos del cliente</h3>
              <div class="border rounded-3 p-3 bg-light">
                <p class="mb-1">
                  <span class="text-muted small d-block">Nombre</span>
                  <span class="fw-semibold">{{ invoice.client.name }} {{ invoice.client.lastname }}</span>
                </p>
                <p class="mb-1">
                  <span class="text-muted small d-block">País</span>
                  <span>{{ invoice.client.address.country }}</span>
                </p>
                <p class="mb-0">
                  <span class="text-muted small d-block">Ciudad y dirección</span>
                  <span>
                    {{ invoice.client.address.city }},
                    {{ invoice.client.address.street }} {{ invoice.client.address.number }}
                  </span>
                </p>
              </div>
            </div>

            <!-- Empresa -->
            <div class="col-md-6">
              <h3 class="h6 text-uppercase text-muted mb-2">Datos de la empresa</h3>
              <div class="border rounded-3 p-3 bg-light">
                <p class="mb-1">
                  <span class="text-muted small d-block">Nombre</span>
                  <span class="fw-semibold">{{ invoice.company.name }}</span>
                </p>
                <p class="mb-0">
                  <span class="text-muted small d-block">Número fiscal</span>
                  <span>{{ invoice.company.fiscalnumber }}</span>
                </p>
              </div>
            </div>
          </div>

          <!-- Items factura -->
          <div>
            <div class="d-flex justify-content-between align-items-center mb-2">
              <h4 class="h6 text-uppercase text-muted mb-0">Ítems de la factura</h4>
            </div>

            <div class="table-responsive">
              <table class="table table-sm align-middle mb-0">
                <thead class="table-light">
                  <tr>
                    <th scope="col">Id</th>
                    <th scope="col">Producto</th>
                    <th scope="col" class="text-end">Precio</th>
                    <th scope="col" class="text-end">Cantidad</th>
                  </tr>
                </thead>
                <tbody>
                  @for (item of invoice.items; track $index) {
                  <tr>
                    <td>{{ item.id }}</td>
                    <td>{{ item.product }}</td>
                    <td class="text-end">
                      {{ item.price }}
                    </td>
                    <td class="text-end">{{ item.quantity }}</td>
                  </tr>
                  }
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- Si luego quieres totales, puedes usar este footer -->
        <!--
        <div class="card-footer bg-white border-0 pt-0">
          <div class="d-flex justify-content-end">
            <div class="text-end">
              <div class="small text-muted">Total</div>
              <div class="h5 mb-0">{{ total | currency:'USD' }}</div>
            </div>
          </div>
        </div>
        -->
      </div>
    </div>
  </div>
</div>
